<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Reset Password â€” G.R.O.W.T.H.</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --accent:#2b8aef;
      --glass-2: rgba(255,255,255,0.08);
      --text:#ffffff;
      --muted: rgba(255,255,255,0.85);
      --card-radius:14px;
    }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:#111;}
    .bg{position:fixed;inset:0;background-image:url('4.png');background-size:cover;background-position:center;filter:brightness(0.55) saturate(0.95);z-index:0;}
    .overlay{position:fixed;inset:0;background:linear-gradient(180deg,rgba(10,10,10,0.25),rgba(0,0,0,0.6));z-index:1}
    .page{position:relative;z-index:2;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:24px;}
    .container{max-width:420px;width:100%;color:var(--text);}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02));border-radius:var(--card-radius);padding:22px;backdrop-filter:blur(8px);}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px;}
    input{width:100%;padding:12px;border-radius:10px;border:none;background:var(--glass-2);color:var(--text);outline:none;font-size:15px;margin-bottom:12px;}
    button{background:var(--accent);border:none;color:#fff;padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:600;width:100%;}
    .status{margin-top:12px;font-size:13px;color:var(--muted);}
    .error{color:#ff7b7b;}
  </style>
</head>
<body>
  <div class="bg"></div>
  <div class="overlay"></div>

  <main class="page">
    <div class="container">
      <section class="card">
        <h2 style="margin:0 0 12px 0;font-size:16px">Reset Password</h2>
        <label for="username">Username</label>
        <input id="username" type="text" placeholder="User67">
        <label for="newpass">New Password</label>
        <input id="newpass" type="password" placeholder="Enter new password">
        <button id="resetBtn">Update Password</button>
        <div id="status" class="status"></div>
      </section>
    </div>
  </main>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
    import { getDatabase, ref, get, child, set } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyD21J-omPyBAXvjDFPANzpFg4a3AWchbFQ",
      authDomain: "tanim-ashs.firebaseapp.com",
      databaseURL: "https://tanim-ashs-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "tanim-ashs",
      storageBucket: "tanim-ashs.firebasestorage.app",
      messagingSenderId: "459105073919",
      appId: "1:459105073919:web:ab6cb0346d87233d79aaca",
      measurementId: "G-Q16E4V78WQ"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const usernameEl = document.getElementById("username");
    const newpassEl = document.getElementById("newpass");
    const statusEl = document.getElementById("status");
    const resetBtn = document.getElementById("resetBtn");

    function setStatus(msg, isError=false){
      statusEl.textContent = msg;
      statusEl.className = isError ? 'status error' : 'status';
    }

    resetBtn.addEventListener("click", async ()=>{
      const username = usernameEl.value.trim();
      const newpass = newpassEl.value.trim();
      if(!username || !newpass) return setStatus("Please fill in both fields", true);

      const dbRef = ref(db);
      const userRef = child(dbRef, `/TANIM-ASHS/users/${username}`);
      const snap = await get(userRef);

      if(!snap.exists()) return setStatus("User not found", true);

      await set(userRef, { password: newpass });
      setStatus("Password updated successfully! Redirecting...");
      setTimeout(()=>window.location.href="index.html",1000);
    });
  </script>
</body>
</html>


